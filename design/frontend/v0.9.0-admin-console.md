# v0.9.0 관리자 콘솔 UI 설계

## 1. 목적/범위
- 관리자 역할이 웹에서 사용자 상태 조회와 기본 제재를 수행할 수 있는 최소 UI를 제공한다.
- 최근 경기 및 선택 사용자의 전적을 빠르게 확인할 수 있도록 표 형태로 정리한다.

## 2. 화면 흐름
- 경로: `/admin` (인증 필요). 네비게이션에 "운영" 메뉴 추가.
- 섹션 구성
  - 기본 상태: 사용자 수, 누적 경기 수, 활성 경기 방/관전자 수를 나열.
  - 사용자 제재: 사용자 목록 테이블 + 제재 폼(제재 유형, 사유, 기간 분).
  - 최근 경기: 20건 리스트로 방 번호/참가자/점수/종료 시각 표시.
  - 선택 사용자 전적: 테이블에서 "전적 확인"을 누르면 해당 사용자의 경기 리스트 표시.
- 에러 처리: API 실패 시 상단에 한국어 에러 메시지 표시.

## 3. 컴포넌트/상태
- `AdminPage`
  - 훅: `useAuth`로 토큰 확인, `useEffect`로 사용자/경기/통계 초기 로딩.
  - 상태: `users`, `matches`, `userMatches`, `stats`, `action`, `reason`, `duration`, `selectedUserId`, `error`.
  - 이벤트: `handleModeration`(제재 적용 후 목록 업데이트), `loadUserMatches`(선택 사용자 전적 로딩).
- API 모듈: `shared/api/admin.ts`
  - `fetchAdminUsers`, `fetchAdminMatches`, `fetchAdminUserMatches`, `applyModeration`, `fetchAdminStats`.
- 타입: `shared/types/admin.ts`, `shared/types/match.ts`.

## 4. 데이터/계약
- 관리자 API 응답은 백엔드 `AdminUserResponse`/`GameResultResponse`와 동일한 필드를 사용.
- 제재 요청: `{ action: 'BAN' | 'SUSPEND' | 'MUTE', reason: string, durationMinutes: number }`.
- 날짜/시간은 ISO-8601 문자열을 받아 로컬 타임존(KST) 기준으로 렌더링.

## 5. 스타일/접근성
- 기존 `.page`, `.panel`, `.table` 기본 스타일 재사용.
- 버튼 텍스트와 표 헤더를 한국어로 표기, 스크린리더가 읽을 수 있도록 `<button type="button">` 사용.

## 6. 테스트
- `AdminPage.test.tsx`: 인증/관리자 API를 모킹해 초기 렌더링 시 상태/사용자 테이블이 표시되는지 검증.
- Vitest + Testing Library를 사용하며, 관리자 API 호출은 `vi.spyOn`으로 대체 응답을 주입.
